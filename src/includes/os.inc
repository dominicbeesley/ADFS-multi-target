	.include "config.inc"

.ifndef __OS_INC__
__OS_INC__:

NMI=$0D00

;; MOS ZP regs
ZP_MOS_CURROM		= $F4
ZP_MOS_ESCFLAG 		= $FF

;; OS CALLS
OSASCI			= $FFE3
OSNEWL			= $FFE7
OSWRCH			= $FFEE
OSARGS			= $FFDA
OSBYTE			= $FFF4
OSCLI			= $FFF7

OSBYTE_15_FLUSH_BUF		= $15
OSBYTE_16_INCPOLL		= $16
OSBYTE_77_CLOSE			= $77
OSBYTE_78_WRITE_KEYPRESS= $78
OSBYTE_7A_KEY_SCAN_10	= $7A
OSBYTE_7E_ESC_ACK		= $7E
OSBYTE_83_OSHWM			= $83
OSBYTE_84_HIMEM			= $84
OSBYTE_86_TXT_POS		= $86
OSBYTE_87_SCRCHAR_MODE	= $87
OSBYTE_8A_INS_BUF		= $8A
OSBYTE_8F_ISSUE_SERV	= $8F
OSBYTE_A1_READ_CMOS		= $A1
OSBYTE_A2_WRITE_CMOS	= $A2
OSBYTE_A8_ADDR_EXTVEC	= $A8
OSBYTE_C6_RW_EXEC		= $C6
OSBYTE_C7_RW_SPOOL		= $C7
OSBYTE_FD_LAST_BREAK	= $FD
OSBYTE_EA_RW_TUBEPRESENT= $EA
OSBYTE_FF_RW_STARTOPT	= $FF

SYSVARS_291_ILACE		= $291

TUBE_CLAIM 				= $C0

CMOS_ADFS				= $B
CMOS_PER_ROM_BASE		= $14		; note: this appears to be a VFS bug, should be $30 according to https://beebwiki.mdfs.net/CMOS_configuration_RAM_allocation

.if TARGETOS > 1
CONFIG_BIT_FD_SPEED	= $01
.else
CONFIG_BIT_FD_SPEED	= $10
.endif

.if TARGETOS = 0
OSBYTE_73_BLANK_PAL 		= $73
OSBYTE_F2_ELK_ULA_CTL_COPY 	= $F2
.endif

SERVICE_04_UK_OSCLI			= $04
SERVICE_0A_CLAIM_ABS_WKSP	= $0A
SERVICE_0B_RELEASE_NMI		= $0B
SERVICE_0C_CLAIM_NMI		= $0C
SERVICE_0F_FS_VECS_CHANGED  = $0F
SERVICE_15_100Hz_POLL		= $15

SYSVARS_ELK_291_TIME_A		= $291
SYSVARS_ELK_296_TIME_B		= $296
.endif